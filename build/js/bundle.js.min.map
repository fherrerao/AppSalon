{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","paginaAnterior","paginaSiguiente","botonesPaginador","mostrarResumen","nombreCita","fechaCita","deshabilitarFechaAnterior","horaCita","seccionAnterior","document","querySelector","classList","remove","add","tabAnterior","querySelectorAll","forEach","enlace","addEventListener","e","preventDefault","parseInt","target","dataset","paso","async","url","conexion","fetch","db","json","console","log","element","id","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","error","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","servicio","servicioObj","validarServicios","firstChild","removeChild","Object","values","includes","noServicios","headingCita","innerHTML","serviciosCita","headingServicios","cantidad","contenedorServicio","textoServicio","totalPagar","split","trim","cantidadPagar","nombreTexto","value","length","mostrarAlerta","alerta","mensaje","tipo","setTimeout","fechaInput","dia","Date","getUTCDay","inputFecha","fechaAhora","fechaDeshabilitar","getFullYear","getMonth","getDate","min","inputHora"],"mappings":"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","file":"bundle.js","sourcesContent":["let pagina = 1;\r\nconst cita = {\r\n    nombre: \"\",\r\n    fecha: \"\",\r\n    hora: \"\",\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    iniciarApp();\r\n})\r\n\r\nfunction iniciarApp(){\r\n    mostrarServicios();\r\n    //Resalta el div actual segun el tab al que se presiona\r\n    mostrarSeccion();\r\n    //Oculta o muestra una sección según el tab que se presiona\r\n    cambiarSeccion();\r\n    //Paginacion anterior y siguiente\r\n    paginaAnterior();\r\n    paginaSiguiente();\r\n\r\n    //Comprueba la página actual para ocultar o mostrar la paginación\r\n    botonesPaginador();\r\n\r\n    //Muestra el resumen de la cita (o mensaje de error en caso de no pasar la validación)\r\n    mostrarResumen();\r\n\r\n    //Almacena el nombre de la cita en el objeto\r\n    nombreCita();\r\n\r\n    //Almacena la fecha de la cita en el objeto\r\n    fechaCita();\r\n\r\n    //Desahbilita fechas pasadas\r\n    deshabilitarFechaAnterior()\r\n\r\n    //Almacena la hora de la cita en el objeto\r\n    horaCita();\r\n}\r\n\r\nfunction mostrarSeccion(){\r\n    \r\n    // Eliminar mostrar-seccion de la sección anterior\r\n    const seccionAnterior = document.querySelector(\".mostrar-seccion\")\r\n    if (seccionAnterior){\r\n        seccionAnterior.classList.remove(\"mostrar-seccion\");\r\n    }   \r\n\r\n    const seccionActual = document.querySelector(`#paso-${pagina}`)\r\n    seccionActual.classList.add(\"mostrar-seccion\")\r\n    \r\n    //Elimina la clase de actual en el tab anterior\r\n    const tabAnterior = document.querySelector(\".actual\")    \r\n    if(tabAnterior){\r\n        tabAnterior.classList.remove(\"actual\");\r\n    }\r\n    \r\n\r\n    //Resalta el Tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${pagina}\"]`)\r\n    tab.classList.add(\"actual\")    \r\n    \r\n}\r\n\r\nfunction cambiarSeccion(){\r\n    const enlaces = document.querySelectorAll(\".tabs button\");\r\n    enlaces.forEach(function(enlace){\r\n        enlace.addEventListener(\"click\",e =>{\r\n            e.preventDefault();\r\n            pagina = parseInt(e.target.dataset.paso);\r\n            \r\n            //Ocultar la seccion previa\r\n            document.querySelector(\".mostrar-seccion\").classList.remove(\"mostrar-seccion\");\r\n            document.querySelector(\".actual\").classList.remove(\"actual\");\r\n            \r\n            //Agrega mostrar seccion donde dimos click\r\n            // const seccion = document.querySelector(`#paso-${pagina}`)\r\n            // seccion.classList.add(\"mostrar-seccion\");\r\n            // //Agrega la clase actual a la seccion seleccinada\r\n            // const actual = document.querySelector(`[data-paso=\"${pagina}\"]`)\r\n            // actual.classList.add(\"actual\")   \r\n            \r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n        })\r\n    })\r\n}\r\n    \r\n        \r\nasync function mostrarServicios(){\r\n    try {\r\n        const url = \"http://localhost:3000/servicios.php\";\r\n\r\n        const conexion = await fetch(url);\r\n        const db = await conexion.json();        \r\n\r\n        console.log(db);\r\n\r\n        //const {servicios} = db;\r\n\r\n        db.forEach(element => {\r\n            const {id, nombre, precio} = element;\r\n            console.log(element.nombre)\r\n            //DOM SCRIPTING\r\n            //Generar nombre de servicio\r\n            const nombreServicio = document.createElement(\"P\");\r\n            nombreServicio.textContent = nombre;\r\n            nombreServicio.classList.add(\"nombre-servicio\")\r\n            \r\n\r\n            //Generar precio de servicio\r\n            const precioServicio = document.createElement(\"P\");\r\n            precioServicio.textContent = `$ ${precio}`;\r\n            precioServicio.classList.add(\"precio-servicio\");\r\n            \r\n\r\n            //Generar DIV contenedor\r\n            const servicioDiv = document.createElement(\"DIV\");\r\n            servicioDiv.classList.add(\"servicio\");\r\n            servicioDiv.dataset.idServicio = id;\r\n\r\n            //Selecciona un servicio para la cita\r\n            servicioDiv.onclick = seleccionarServicio;            \r\n\r\n            //Inyectar precio y nombre al DIV de servicio\r\n            servicioDiv.appendChild(nombreServicio)\r\n            servicioDiv.appendChild(precioServicio)\r\n            \r\n            //Inyectar al HTML\r\n            document.querySelector(\"#servicios\").appendChild(servicioDiv)\r\n\r\n        });\r\n\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n    \r\n}\r\nfunction seleccionarServicio(e){\r\n    //Forzar que el elemento al cual le dimos click sea el div\r\n    let elemento;\r\n    if (e.target.tagName === \"P\"){\r\n        elemento = e.target.parentElement;\r\n\r\n    }else{\r\n        elemento = e.target;\r\n    }\r\n    if(elemento.classList.contains(\"seleccionado\")){\r\n        elemento.classList.remove(\"seleccionado\");\r\n        const id = parseInt(elemento.dataset.idServicio);\r\n        eliminarServicio(id);\r\n    }else{\r\n        elemento.classList.add(\"seleccionado\")        \r\n        const servicioObj = {\r\n            id: parseInt(elemento.dataset.idServicio),\r\n            nombre:elemento.firstElementChild.textContent,\r\n            precio:elemento.firstElementChild.nextElementSibling.textContent\r\n        }\r\n\r\n        agregarServicio(servicioObj);\r\n    }   \r\n}\r\n\r\nfunction eliminarServicio(id){    \r\n    const {servicios} = cita;    \r\n    cita.servicios = servicios.filter( servicio => servicio.id !== id );\r\n    console.log(cita)\r\n\r\n}\r\n\r\nfunction agregarServicio(servicioObj){\r\n    const {servicios} = cita;\r\n    cita.servicios = [...servicios, servicioObj]    \r\n    console.log(cita)\r\n}\r\n\r\nfunction paginaAnterior(){\r\n    const paginaAnterior = document.querySelector(\"#anterior\")\r\n    paginaAnterior.addEventListener(\"click\", ()=>{\r\n        pagina--;        \r\n        botonesPaginador()\r\n    })\r\n    \r\n}\r\nfunction paginaSiguiente(){\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\")\r\n    paginaSiguiente.addEventListener(\"click\", ()=>{\r\n        pagina++;        \r\n        botonesPaginador()\r\n    })    \r\n}\r\n\r\nfunction botonesPaginador(){\r\n    const paginaAnterior = document.querySelector(\"#anterior\")\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\")\r\n\r\n    if(pagina === 1){\r\n        paginaAnterior.classList.add(\"ocultar\")\r\n    }\r\n    // else if(pagina === 2){\r\n    //     paginaAnterior.classList.remove(\"ocultar\")\r\n    //     paginaSiguiente.classList.remove(\"ocultar\")\r\n    // }\r\n    else if(pagina === 3){\r\n        paginaSiguiente.classList.add(\"ocultar\")\r\n        paginaAnterior.classList.remove(\"ocultar\")\r\n        mostrarResumen()\r\n    }\r\n    else{\r\n        paginaAnterior.classList.remove(\"ocultar\")\r\n        paginaSiguiente.classList.remove(\"ocultar\")\r\n    }\r\n    mostrarSeccion()\r\n}\r\n\r\nfunction mostrarResumen(){\r\n    //Destructuring\r\n    const {nombre, fecha, hora, servicios} = cita;\r\n\r\n    //Seleccionar el resumen\r\n    const validarServicios = document.querySelector(\"#paso-3\");\r\n    //Limpia el HTML previo\r\n    //validarServicios.innerHTML = \"\";\r\n    while(validarServicios.firstChild){\r\n        validarServicios.removeChild(validarServicios.firstChild)\r\n    }\r\n\r\n    if(Object.values(cita).includes(\"\")){\r\n        const noServicios = document.createElement(\"P\")\r\n        noServicios.textContent = \"Faltan datos de Servicios, hora, fecha o nombre\"\r\n        \r\n        noServicios.classList.add(\"invalidar-cita\");\r\n        validarServicios.appendChild(noServicios);\r\n        return\r\n    }\r\n\r\n    //Mostrar el resumen\r\n    const headingCita = document.createElement(\"H3\")\r\n    headingCita.textContent = \"Resumen de Cita\"\r\n\r\n    const nombreCita = document.createElement(\"P\");\r\n    nombreCita.innerHTML = `<span>Nombre: </span> ${nombre}`\r\n    \r\n    const fechaCita = document.createElement(\"P\");\r\n    fechaCita.innerHTML = `<span>Fecha: </span> ${fecha}`\r\n\r\n    const horaCita = document.createElement(\"P\");\r\n    horaCita.innerHTML = `<span>Hora: </span> ${hora}`\r\n\r\n    const serviciosCita = document.createElement(\"DIV\")\r\n    serviciosCita.classList.add(\"resumen-servicios\")\r\n\r\n    const headingServicios = document.createElement(\"H3\")\r\n    headingServicios.textContent = \"Resumen de Servicios\"\r\n    serviciosCita.appendChild(headingServicios)\r\n    let cantidad =0;\r\n    //Iterar sobre el arreglo de servicios\r\n    servicios.forEach(servicio => {\r\n        const {nombre, precio} = servicio;\r\n        \r\n        const contenedorServicio = document.createElement(\"P\")\r\n        contenedorServicio.classList.add(\"contenedor-servicio\")\r\n\r\n        const textoServicio = document.createElement(\"P\")\r\n        textoServicio.textContent = nombre\r\n\r\n        const precioServicio = document.createElement(\"P\")\r\n        precioServicio.textContent = precio\r\n        precioServicio.classList.add(\"precio\")\r\n\r\n        const totalPagar = precio.split(\"$\")\r\n        \r\n        console.log(parseInt(totalPagar[1].trim()))\r\n        \r\n        cantidad += parseInt(totalPagar[1].trim());\r\n        \r\n\r\n        //Colocar texto y precio en el DIV\r\n        contenedorServicio.appendChild(textoServicio)\r\n        contenedorServicio.appendChild(precioServicio)\r\n        serviciosCita.appendChild(contenedorServicio)\r\n        \r\n    })   \r\n    \r\n    validarServicios.appendChild(headingCita)\r\n    validarServicios.appendChild(nombreCita)\r\n    validarServicios.appendChild(fechaCita)\r\n    validarServicios.appendChild(horaCita)  \r\n\r\n    validarServicios.appendChild(serviciosCita)\r\n\r\n    const cantidadPagar = document.createElement(\"P\");\r\n    cantidadPagar.classList.add(\"total\");\r\n    cantidadPagar.innerHTML = `<span>Total a pagar:</span> $ ${cantidad}`; \r\n    \r\n    \r\n    validarServicios.appendChild(cantidadPagar)\r\n}\r\n\r\nfunction nombreCita(){\r\n    const nombreInput = document.querySelector(\"#nombre\")\r\n    nombreInput.addEventListener(\"input\", e =>{\r\n        const nombreTexto = e.target.value.trim(); //Trim elimina los espacios en blanco\r\n        if(nombreTexto === \"\" || nombreTexto.length <3){\r\n            mostrarAlerta(\"Nombre no válido\", \"error\")\r\n        }else{\r\n            const alerta = document.querySelector(\".alerta\")\r\n            if(alerta){\r\n                alerta.remove()\r\n            }\r\n            cita.nombre = nombreTexto;            \r\n        }        \r\n    })\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo){    \r\n\r\n    //Si hay una alerta no crear otra\r\n    const alertaPrevia = document.querySelector(\".alerta\");\r\n    if(alertaPrevia){\r\n        //alertaPrevia.remove();\r\n        return\r\n    }\r\n    const alerta = document.createElement(\"DIV\");\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add(\"alerta\")\r\n\r\n    if(tipo === \"error\"){\r\n        alerta.classList.add(\"error\")\r\n    }\r\n\r\n    //Insertar en el HTML\r\n    const formulario = document.querySelector(\".formulario\");\r\n    formulario.appendChild(alerta)\r\n\r\n    //Eliminar la alerta despues de 3 seg\r\n    setTimeout(() => {\r\n        alerta.remove()\r\n    }, 3000);\r\n}\r\n\r\nfunction fechaCita(){\r\n    const fechaInput = document.querySelector(\"#fecha\")\r\n    fechaInput.addEventListener(\"input\", e =>{\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        if([0,6].includes(dia)){\r\n            e.preventDefault()\r\n            fechaInput.value = \"\"\r\n            mostrarAlerta(\"Fines de semana no atendemos\",\"error\")\r\n        }\r\n        else{\r\n            cita.fecha = fechaInput.value;            \r\n        }     \r\n\r\n\r\n    })\r\n}\r\n\r\nfunction deshabilitarFechaAnterior(){\r\n    const inputFecha = document.querySelector(\"#fecha\")\r\n    const fechaAhora = new Date()\r\n    const year = fechaAhora.getFullYear();\r\n    const mes = fechaAhora.getMonth()+1;\r\n    const dia = fechaAhora.getDate();\r\n\r\n    //Formato deseado: AAAA-MM-DD\r\n    const fechaDeshabilitar = `${year}-${mes}-${dia}`;\r\n    inputFecha.min = fechaDeshabilitar;\r\n    \r\n}\r\n\r\nfunction horaCita(){\r\n    const inputHora = document.querySelector(\"#hora\")\r\n    inputHora.addEventListener(\"input\", e =>{\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\")            //Divide un string en los dos puntos elegidos de la hora\r\n        if(hora[0] < 9 || hora[0] > 18){\r\n            mostrarAlerta(\"Hora no válida\",\"error\")\r\n            setTimeout(() => {\r\n                inputHora.value = \"\"    \r\n            }, 3000);\r\n            \r\n        }else{\r\n            cita.hora = horaCita\r\n            \r\n        }       \r\n        \r\n    })\r\n}"]}